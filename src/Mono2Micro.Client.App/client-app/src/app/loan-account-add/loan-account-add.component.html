<div class="inner-page-wrapper registration-wrapper">
  <div class="container">
    <form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
      <div class="row">
          <div class="col-lg-10 col-md-10 col-sm-10 next-ready-box">
            <h3>Loan Account </h3>
            <hr />
          </div>
          <div class="col-lg-12 col-md-12 col-sm-12">

              <div class="form-group">
                <label class="col-lg-5 col-md-5 col-sm-12">Product</label>
                <select  id="product-id" name="product-id" [(ngModel)]="formData.ProductId" (change)="productChanged();" class="form-control col-lg-4 col-md-4 col-sm-12">
                  <option *ngFor="let x of products" [ngValue]="x.Value" >{{x.Name}}</option>
              </select>

              </div>

              <div class="form-group">
                <label class="col-lg-5 col-md-5 col-sm-12">Duration</label>
                <select  id="duration" name="duration" [(ngModel)]="formData.Duration" class="form-control col-lg-4 col-md-4 col-sm-12">
                  <option *ngFor="let x of durations" [ngValue]="x.Value" >{{x.Name}}</option>
              </select>
              </div>

              <div class="form-group">
                <label class="col-lg-5 col-md-5 col-sm-12">Installment Frequency </label>
                <select  id="installmentFrequency-id" name="installmentFrequency-id" [(ngModel)]="formData.InstallmentFrequencyId" class="form-control col-lg-4 col-md-4 col-sm-12">
                  <option *ngFor="let x of installmentFrequency" [ngValue]="x.Value" >{{x.Name}}</option>
                </select>

              </div>
              <div class="form-group">
                <label class="col-lg-5 col-md-5 col-sm-12">Disbursed Date </label>
                <input type="Date" id="disbursed-date" name="disbursed-date"placeholder="Disbursed Date" required [(ngModel)]="formData.DisbursedDate" class="form-control col-lg-4 col-md-4 col-sm-12" />
              </div>

              <div class="form-group">
                <label class="col-lg-5 col-md-5 col-sm-12">Amount </label>
                <input type="Number" id="amount" name="amount"placeholder="Amount" required [(ngModel)]="formData.Amount" (change)="getLoanSchedule();" class="form-control col-lg-4 col-md-4 col-sm-12" />
              </div>
              <div>
                <button class="btn btn-info" style="margin-bottom: 10px;" (click)="gotoschedule();">Show Schedule</button>
              </div>
              <div class="row">
                <div class="col-lg-10 col-md-10 col-sm-10 next-ready-box">
                  <button class="btn btn-primary" type="submit">
                    <i class="fa fa-save"></i> <span> Save</span>
                  </button>
                </div>
              </div>
            </div>
      </div>
  </form>
</div>
</div>
<div *ngIf="schedules && schedules.length >0" class="row" style="margin-top: 5%;">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
      <table  class="table table-success table-striped table-hover loan-account-table">
          <thead>
              <tr>
                  <td>#</td>
                  <td>Installment Number</td>
                  <td>Scheduled Date</td>
                  <td>Installment Amount</td>
                  <td>Paid Amount</td>
                  <td>Outstanding Amount</td>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let schedule of schedules;  let i = index">
                  <td>{{(i + 1)}}</td>
                  <td>{{schedule.InstallmentNo}}</td>
                  <td>{{schedule.ScheduledDate | date:'mediumDate'}}</td>
                  <td>{{schedule.InstallmentAmount}}</td>
                  <td>{{schedule.PaidAmount}}</td>
                  <td>{{schedule.OutstandingAmount}}</td>
              </tr>
          </tbody>
        </table>
  </div>
</div>


